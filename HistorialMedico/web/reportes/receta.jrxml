<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="receta" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.331000000000001"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="receta">
		<parameter name="IdVisitaMed" class="java.lang.Integer">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[select * from receta where id_visita_medica=$P{IdVisitaMed};]]>
		</queryString>
		<field name="id_receta" class="java.lang.Integer"/>
		<field name="id_visita_medica" class="java.lang.Integer"/>
		<field name="rec_medicamento" class="java.lang.String"/>
		<field name="rec_descripcion" class="java.lang.String"/>
		<field name="host" class="java.lang.String"/>
		<field name="rec_cantidad" class="java.lang.String"/>
		<field name="rec_m" class="java.lang.Boolean"/>
		<field name="rec_t" class="java.lang.Boolean"/>
		<field name="rec_n" class="java.lang.Boolean"/>
	</subDataset>
	<parameter name="IdVisitaMedica" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="logo" class="java.lang.String"/>
	<parameter name="idUsuario" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select * from paciente pc,visita_medica vs, usuario usu where pc.id_paciente=vs.id_paciente and vs.vis_estado=true and usu.id_usuario=pc.id_usuario and vs.id_visita_medica=$P{IdVisitaMedica} and pc.id_usuario=$P{idUsuario}]]>
	</queryString>
	<field name="id_paciente" class="java.lang.Integer"/>
	<field name="id_usuario" class="java.lang.Integer"/>
	<field name="pac_ruc" class="java.lang.String"/>
	<field name="pac_nombres" class="java.lang.String"/>
	<field name="pac_domicilio" class="java.lang.String"/>
	<field name="pac_correo" class="java.lang.String"/>
	<field name="pac_telefono" class="java.lang.String"/>
	<field name="pac_fecha_nacimiento" class="java.sql.Date"/>
	<field name="pac_sexo" class="java.lang.String"/>
	<field name="pac_estado_civil" class="java.lang.String"/>
	<field name="pac_tipo_sangre" class="java.lang.String"/>
	<field name="pac_aseguradora" class="java.lang.String"/>
	<field name="pac_apellidos" class="java.lang.String"/>
	<field name="pac_edad" class="java.lang.Integer"/>
	<field name="pac_movil" class="java.lang.String"/>
	<field name="pac_alegias" class="java.lang.String"/>
	<field name="pac_cirugias" class="java.lang.String"/>
	<field name="pac_enfermedad_existente" class="java.lang.String"/>
	<field name="pac_enfermedad_familia" class="java.lang.String"/>
	<field name="pac_talla" class="java.math.BigDecimal"/>
	<field name="pac_peso" class="java.math.BigDecimal"/>
	<field name="pac_imc" class="java.math.BigDecimal"/>
	<field name="pac_tm_bucal" class="java.lang.String"/>
	<field name="pac_cuello" class="java.lang.String"/>
	<field name="pac_cintura" class="java.lang.String"/>
	<field name="pac_per_abdominal" class="java.lang.String"/>
	<field name="pac_pa" class="java.lang.String"/>
	<field name="pac_fc" class="java.lang.String"/>
	<field name="pac_sp02" class="java.lang.String"/>
	<field name="pac_fotografia" class="java.lang.String"/>
	<field name="pac_ref_familiar" class="java.lang.String"/>
	<field name="pac_telefono_referencia" class="java.lang.String"/>
	<field name="pac_medicacion_actual" class="java.lang.String"/>
	<field name="pac_habilitado" class="java.lang.Boolean"/>
	<field name="pac_estado" class="java.lang.Boolean"/>
	<field name="pac_direccion_trabajo" class="java.lang.String"/>
	<field name="pac_cargo" class="java.lang.String"/>
	<field name="pac_otros" class="java.lang.String"/>
	<field name="id_visita_medica" class="java.lang.Integer"/>
	<field name="vis_fecha" class="java.sql.Date"/>
	<field name="vis_diagnostico" class="java.lang.String"/>
	<field name="vis_cargar_cie10" class="java.lang.String"/>
	<field name="vis_reseta" class="java.lang.String"/>
	<field name="vis_observacion" class="java.lang.String"/>
	<field name="vis_hora" class="java.sql.Time"/>
	<field name="vis_atendida" class="java.lang.Boolean"/>
	<field name="vis_fecha_atencion" class="java.sql.Timestamp"/>
	<field name="vis_hora_fin" class="java.sql.Time"/>
	<field name="vis_certificado" class="java.lang.String"/>
	<field name="vis_reposo" class="java.lang.Integer"/>
	<field name="vis_estado" class="java.lang.Boolean"/>
	<field name="usu_ruc" class="java.lang.String"/>
	<field name="usu_nombre" class="java.lang.String"/>
	<field name="usu_login" class="java.lang.String"/>
	<field name="usu_password" class="java.lang.String"/>
	<field name="usu_correo" class="java.lang.String"/>
	<field name="usu_tipo_usuario" class="java.lang.String"/>
	<field name="usu_fecha_registro" class="java.sql.Date"/>
	<field name="usu_activo" class="java.lang.Boolean"/>
	<field name="usu_foto" class="java.lang.String"/>
	<field name="usu_nivel" class="java.lang.Integer"/>
	<field name="usu_logo" class="java.lang.String"/>
	<field name="usu_encabezado_receta" class="java.lang.String"/>
	<field name="usu_pie_pagina_receta" class="java.lang.String"/>
	<field name="usu_firma" class="java.lang.String"/>
	<field name="usu_encabezado_cert" class="java.lang.String"/>
	<field name="usu_pie_pagina_ceritifacdo" class="java.lang.String"/>
	<field name="usu_ciudad" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="164">
			<staticText>
				<reportElement x="9" y="98" width="69" height="12"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[CI:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="78" y="98" width="254" height="12"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{pac_ruc}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="9" y="110" width="69" height="12"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Edad:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="78" y="110" width="254" height="12"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{pac_edad}+" AÑOS"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="78" y="85" width="254" height="12"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{pac_nombres}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="9" y="85" width="69" height="12"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[PCTE:]]></text>
			</staticText>
			<staticText>
				<reportElement x="9" y="122" width="85" height="12"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[DIAGNÓSTICO:]]></text>
			</staticText>
			<staticText>
				<reportElement x="9" y="134" width="69" height="12"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[HCL Nº:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="94" y="122" width="238" height="12"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{vis_cargar_cie10}]]></textFieldExpression>
			</textField>
			<image hAlign="Center" vAlign="Middle" onErrorType="Blank">
				<reportElement x="0" y="0" width="64" height="44"/>
				<imageExpression class="java.lang.String"><![CDATA[$P{logo}]]></imageExpression>
			</image>
			<textField isBlankWhenNull="true">
				<reportElement x="486" y="85" width="289" height="12"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{pac_nombres}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="422" y="86" width="64" height="12"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[PCTE:]]></text>
			</staticText>
			<staticText>
				<reportElement x="422" y="110" width="64" height="12"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Edad:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="486" y="98" width="100" height="12"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{pac_ruc}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="422" y="98" width="64" height="12"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[CI:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="507" y="122" width="268" height="12"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{vis_cargar_cie10}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="422" y="122" width="85" height="12"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[DIAGNÓSTICO:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="486" y="110" width="134" height="12"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{pac_edad}+" AÑOS"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="9" y="150" width="55" height="14"/>
				<textElement>
					<font size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[RECETA.-]]></text>
			</staticText>
			<staticText>
				<reportElement x="422" y="150" width="132" height="14"/>
				<textElement>
					<font size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[INDICACIONES.-]]></text>
			</staticText>
			<image hAlign="Center" vAlign="Middle" onErrorType="Blank">
				<reportElement x="422" y="0" width="64" height="44"/>
				<imageExpression class="java.lang.String"><![CDATA[$P{logo}]]></imageExpression>
			</image>
			<textField isBlankWhenNull="true">
				<reportElement x="78" y="134" width="254" height="12"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Nº "+$F{id_paciente}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="507" y="134" width="268" height="12"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Nº "+$F{id_paciente}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="422" y="134" width="85" height="12"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[HCL Nº:]]></text>
			</staticText>
			<textField>
				<reportElement mode="Transparent" x="64" y="0" width="319" height="76" forecolor="#5B9BD5" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="6" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{usu_encabezado_receta}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement mode="Transparent" x="486" y="0" width="316" height="76" forecolor="#5B9BD5" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="6" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{usu_encabezado_receta}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<detail>
		<band height="230" splitType="Stretch">
			<componentElement>
				<reportElement key="table 1" style="table" positionType="Float" x="9" y="0" width="313" height="33"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="receta">
						<datasetParameter name="IdVisitaMed">
							<datasetParameterExpression><![CDATA[$P{IdVisitaMedica}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="188">
						<jr:columnHeader style="table" height="20" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="188" height="20"/>
								<box leftPadding="3"/>
								<textElement verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Medicamentos]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="12" rowSpan="1">
							<textField isStretchWithOverflow="true">
								<reportElement x="0" y="0" width="188" height="12" isPrintWhenDetailOverflows="true"/>
								<box leftPadding="3"/>
								<textElement>
									<font size="8"/>
								</textElement>
								<textFieldExpression class="java.lang.String"><![CDATA[$F{rec_medicamento}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="122">
						<jr:columnHeader style="table" height="20" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="122" height="20"/>
								<box leftPadding="3"/>
								<textElement verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Cantidad]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="12" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="122" height="12" isPrintWhenDetailOverflows="true"/>
								<box leftPadding="3"/>
								<textElement>
									<font size="8"/>
								</textElement>
								<textFieldExpression class="java.lang.String"><![CDATA[$F{rec_cantidad}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 1" style="table" positionType="Float" x="422" y="0" width="380" height="33"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="receta">
						<datasetParameter name="IdVisitaMed">
							<datasetParameterExpression><![CDATA[$P{IdVisitaMedica}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="160">
						<jr:columnHeader style="table" height="20" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="160" height="20"/>
								<box leftPadding="3"/>
								<textElement verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Medicamentos]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="12" rowSpan="1">
							<textField isStretchWithOverflow="true">
								<reportElement x="0" y="0" width="160" height="12" isPrintWhenDetailOverflows="true"/>
								<box leftPadding="3"/>
								<textElement>
									<font size="8"/>
								</textElement>
								<textFieldExpression class="java.lang.String"><![CDATA[$F{rec_medicamento}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="160">
						<jr:columnHeader style="table" height="20" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="160" height="20"/>
								<box leftPadding="3"/>
								<textElement verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Indicaciones]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="12" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="160" height="12" isPrintWhenDetailOverflows="true"/>
								<box leftPadding="3"/>
								<textElement>
									<font size="8"/>
								</textElement>
								<textFieldExpression class="java.lang.String"><![CDATA[$F{rec_descripcion}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="60">
						<jr:columnHeader height="20" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="60" height="20"/>
								<box leftPadding="3"/>
								<textElement verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Horario]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="12" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="20" height="12">
									<printWhenExpression><![CDATA[$F{rec_m}]]></printWhenExpression>
								</reportElement>
								<textElement textAlignment="Center">
									<font size="8"/>
								</textElement>
								<text><![CDATA[M ]]></text>
							</staticText>
							<staticText>
								<reportElement x="20" y="0" width="20" height="12">
									<printWhenExpression><![CDATA[$F{rec_t}]]></printWhenExpression>
								</reportElement>
								<textElement textAlignment="Center">
									<font size="8"/>
								</textElement>
								<text><![CDATA[T ]]></text>
							</staticText>
							<staticText>
								<reportElement x="40" y="0" width="20" height="12">
									<printWhenExpression><![CDATA[$F{rec_n}]]></printWhenExpression>
								</reportElement>
								<textElement textAlignment="Center">
									<font size="8"/>
								</textElement>
								<text><![CDATA[N ]]></text>
							</staticText>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
			<staticText>
				<reportElement positionType="Float" x="9" y="157" width="313" height="50"/>
				<textElement/>
				<text><![CDATA[RECOMENDACIONES: Las enfermedades cardiovasculares son geneticas y deben darse control preventivo a partir de los 10 años en los padres portadores de cardiopatias
]]></text>
			</staticText>
			<staticText>
				<reportElement positionType="Float" x="422" y="39" width="132" height="15" forecolor="#FF0000"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[ADICIONALES]]></text>
			</staticText>
			<textField>
				<reportElement mode="Transparent" x="9" y="46" width="313" height="44" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{usu_firma}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement mode="Transparent" x="422" y="157" width="380" height="62" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{usu_firma}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
